<!DOCTYPE html>
<html lang="en">

<head>
	<meta name="generator" content="Hugo 0.65.3" />
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Index"><meta property="og:title" content="Index" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://docs.perlang.org/" />
<meta property="og:updated_time" content="2014-09-28T00:00:00+00:00" />
<title>Index | Perlang Documentation</title>
<link rel="icon" href="/favicon.png" type="image/x-icon">


<link rel="stylesheet" href="/book.min.829f7602029a29a47bf1b0c9c4bb52982089a6d13558c9433d3c8b7e38c8b3b8.css" integrity="sha256-gp92AgKaKaR78bDJxLtSmCCJptE1WMlDPTyLfjjIs7g=">


<script defer src="/en.search.min.848d2f370f7e3478307ed2209c80bb9b94f445fb471bccec826f22bf98d80bc5.js" integrity="sha256-hI0vNw9&#43;NHgwftIgnIC7m5T0RftHG8zsgm8iv5jYC8U="></script>

<link rel="alternate" type="application/rss+xml" href="https://docs.perlang.org/index.xml" title="Perlang Documentation" />
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body>
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="container flex">
    <aside class="book-menu">
      
  <nav>
<h2 class="book-brand">
  <a href="/"><span>Perlang Documentation</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>











  

  
  





 
  
    




  
  <ul>
    
      
        

  <li class="book-section-flat" >
    

  
  <a href="/docs/example/" class="">Example Site</a>
  


    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/example/table-of-contents/" class="">Table of Contents</a>
  


    




  
  <ul>
    
      
        <li>

  
  <a href="/docs/example/table-of-contents/with-toc/" class="">With ToC</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/example/table-of-contents/without-toc/" class="">Without ToC</a>
  

</li>
      
    
  </ul>
  



  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/example/collapsed/" class="collapsed ">Collapsed</a>
  


    






  </li>


      
    
  </ul>
  



  </li>


      
    
      
        

  <li class="book-section-flat" >
    

  
  <span>Shortcodes</span>
  


    




  
  <ul>
    
      
        <li>

  
  <a href="/docs/shortcodes/buttons/" class="">Buttons</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/shortcodes/columns/" class="">Columns</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/shortcodes/expand/" class="">Expand</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/shortcodes/hints/" class="">Hints</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/shortcodes/katex/" class="">Katex</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/shortcodes/mermaid/" class="">Mermaid</a>
  

</li>
      
    
      
        <li>

  
  <a href="/docs/shortcodes/tabs/" class="">Tabs</a>
  

</li>
      
    
  </ul>
  



  </li>


      
    
  </ul>
  



  












  
<ul>
  
  <li>
    <a href="/posts/" >
        Blog
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Index</strong>

  <label for="toc-control">
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
  </label>
</div>


  
    <input type="checkbox" class="hidden" id="toc-control" />
    <aside class="hidden clearfix">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#background-to-how-perlang-was-born">Background to how Perlang was born</a>
      <ul>
        <li><a href="#no-optional-typing">No optional typing</a></li>
        <li><a href="#static-type-analysis">Static type analysis</a></li>
        <li><a href="#static-dispatch-of-methods">Static dispatch of methods</a></li>
        <li><a href="#excessive-reliance-on-unit-tests-to-detect-all-errors">Excessive reliance on unit tests to detect all errors</a></li>
      </ul>
    </li>
  </ul>
</nav>


    </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="the-perlang-programming-language">The Perlang Programming Language</h1>
<h2 id="introduction">Introduction</h2>
<p>Welcome to the Perlang documentation. In this documentation, we try to describe both what Perlang <em>is</em> and what it aims to <em>become</em>. We try to make the distinction betwen these clear, when relevant.</p>
<p>This document is written in a combination of 3rd person and 1st person singular; we tried to stick with the former but didn&rsquo;t succeed completely.</p>
<h2 id="background-to-how-perlang-was-born">Background to how Perlang was born</h2>
<p>Perlang was conceived in the heart of Per Lundberg around the year 2017-2018, after having worked as a professional programmer for many years, using various languages like Perl, Java, C# and lately, spending a rather large amount of time working with Ruby code. Perhaps a little bit of CoffeeScript and JavaScript there as well.</p>
<p>Some of these languages felt inherently more pleasant to work with than others. Sometimes, his view of a language was formed not only by facts but also by &ldquo;hearsay&rdquo;; for example, other people complaining about a language being overly verbose (like Java), rather than having spent a great amount of time working with this language lately.</p>
<p>Of the languages mentioned, Ruby was a language that <em>particularly</em> made Per frustrated and annoyed. If you don&rsquo;t know Ruby from beforehand, it&rsquo;s a dymamically typed scripting language, often used for writing web application backends (with &ldquo;Ruby on Rails&rdquo;, which is an application framework written in Ruby). Ruby definitely has its strengths, and a few years later, Per started to appreciate it much more, perhaps because he was now using it for use cases where it was an even better fit than his previous projects.</p>
<p>So, what things was it that Per found missing in Ruby?</p>
<h3 id="no-optional-typing">No optional typing</h3>
<p>Ruby is a dynamically typed language, so variables, fields and method parameters are inherently untyped. However, unlike modern languages like <a href="https://www.typescriptlang.org/">TypeScript</a> that provide a way to add an &ldquo;optional&rdquo; type specifier for the variable or parameter, Ruby provides no such mechanism. Why is this a problem?</p>
<p>Well, it doesn&rsquo;t have to be, depending on whether you are dynamically or statically shaped. But regardless of your personal preferences, types <em>exist</em>. They are real. It&rsquo;s not like they don&rsquo;t exist in a dynamically typed language, it&rsquo;s just that all the type checking has been deferred to a later stage - to runtime.</p>
<p>For me, when writing code, I tend to think about what type of objects a method will receive. A simple example to get you going:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">do_something</span>(s)
  s<span style="color:#f92672">.</span>swapcase
<span style="color:#66d9ef">end</span>
</code></pre></div><p>Perhaps I know when writing the code above that the <em>only</em> valid type of parameter for this method is really a String. (Yes, I know that this is the wrong way to think about Ruby code because you should not care about the particular type, instead just that it &ldquo;quacks like a duck&rdquo; and responds to the <code>swapcase</code> message. But there are still cases where you <em>must</em> enforce the type, for example because the data is being converted to JSON (and you don&rsquo;t want the result to be arbitrarily typed), sent to a database (where columns are typically using a fixed data type), etc.)</p>
<p>When I write Ruby code, I&rsquo;m essentially forced to <strong>throw away</strong> this information in my mind when writing the code. There is absolutely no way to write down in my program&rsquo;s source code what type a given parameter is expected to be of. For me, this is frustrating since it means that in the conversion from a mental model (in my head) to source code, I am essentially <em>forced</em> to remove information. Not redundant information, but actually information that would help the computer run my program in a more efficient way.</p>
<p>This leads us naturally to my next point:</p>
<h3 id="static-type-analysis">Static type analysis</h3>
<p>When a program contains type information, from one of the following sources:</p>
<ul>
<li>For <em>all variables/parameters</em> because of explicit typing (i.e. as in traditional, statically typed languages like Java, C# and C++)</li>
<li>For all/most variables/parameters because of <em>strong inferred typing</em> (as in languages like F#)</li>
<li>For <em>some</em> variables/parameters because of optional typing</li>
</ul>
<p>&hellip;it can use this information about the typing information to perform static analysis. For example, it can determine that the following Java program is invalid:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">var s <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Hej hej&#34;</span><span style="color:#f92672">;</span>

<span style="color:#75715e">// Produces the following error in JShell 11.0.6:
</span><span style="color:#75715e">//
</span><span style="color:#75715e">// cannot find symbol
</span><span style="color:#75715e">//   symbol:   method nonExistingMethod()
</span><span style="color:#75715e"></span>s<span style="color:#f92672">.</span><span style="color:#a6e22e">nonExistingMethod</span><span style="color:#f92672">();</span>
</code></pre></div><p>This is because even though <code>s</code> is using an <em>inferred</em> type in this case, the compiler knows that this variable will <strong>always</strong> contain a String (or <code>null</code>). That way, it can statically determine that the <code>s.nonExistingMethod()</code> method call will always fail. There is simply <em>no way</em> for it to succeed, under any circumstances whatsoever.</p>
<p>Why is this important? It is important because typically, it&rsquo;s better if a program fails <em>as early as possible</em> rather than deferring potential failures to runtime checking. We call this the <a href="https://en.wikipedia.org/wiki/Fail-fast">&ldquo;fail fast&rdquo;</a> philosophy.</p>
<p>As systems grow in size, this becomes more and more important. Simply put, it gives you an extra level of comfort where you can trust the compiler to find errors in your program. Not <em>all</em> errors unfortunately, but at least a good deal of them.</p>
<p>What if we could extend these concepts further to let the compiler make an even more extensive analysis of the program? This is definitely an area we want to delve further into as we explore what Perlang will become.</p>
<h3 id="static-dispatch-of-methods">Static dispatch of methods</h3>
<p>Ruby uses an extreme form of &ldquo;dynamic dispatch&rdquo; when it comes to calling methods. The following program is completely valid:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">foo</span>
  <span style="color:#75715e"># Calling a non-existent method</span>
  bar(<span style="color:#ae81ff">123</span>)
<span style="color:#66d9ef">end</span>

puts(<span style="color:#e6db74">&#34;Hello world&#34;</span>)
</code></pre></div><p>If you save this to a file <code>foo.rb</code> and run <code>ruby foo.rb</code>, the program will run without any errors whatsoever, even though the <code>foo</code> method referenced a method does that does not exist. This is because of how method invocations work in Ruby; all method calls are by definition &ldquo;legal&rdquo;, even when they refer to methods that do not exist. If you call an undefined method, there is even a nice little mechanism called <code>method_missing</code> which lets you define, in any class, a method called <code>method_missing</code>. All calls to non-existing methods will then be delegated to that method. An example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">foo</span>
  bar(<span style="color:#ae81ff">123</span>)
<span style="color:#66d9ef">end</span>

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">method_missing</span>(method_name, <span style="color:#f92672">*</span>args)
  puts <span style="color:#e6db74">&#34;You called </span><span style="color:#e6db74">#{</span>method_name<span style="color:#e6db74">}</span><span style="color:#e6db74"> with </span><span style="color:#e6db74">#{</span>args<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
<span style="color:#66d9ef">end</span>

<span style="color:#75715e"># (Note: parentheses for methods are not mandatory in Ruby.)</span>
foo
</code></pre></div><p>Running the program above yields the following output:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ ruby foo.rb
You called bar with <span style="color:#f92672">[</span>123<span style="color:#f92672">]</span>
</code></pre></div><p>Nice, huh? This functionality is what powers some of the existing <a href="https://en.wikipedia.org/wiki/Domain-specific_language">DSL:s</a> written in Ruby, like <a href="https://github.com/jeremyevans/sequel">Sequel</a>.</p>
<p>I think it&rsquo;s good to have this kind of functionality in the language, but the bad part about it is that there&rsquo;s absolutely no way to &ldquo;turn it off&rdquo; for cases where you would prefer a <code>use strict</code>-mode or similar. I have had cases when there was a typo in a method call or field/variable reference where this was not caught by the unit tests, and I released an updated version of an (internal) Ruby gem - only to realize my folly a bit later.</p>
<p>Per has a strong conviction that a really good programming language should help you avoid easy mistakes like that.</p>
<h3 id="excessive-reliance-on-unit-tests-to-detect-all-errors">Excessive reliance on unit tests to detect all errors</h3>
<p>Because of the lack of static analysis of the code (or at least a very weak analysis of it), people in the Ruby camp rely heavily on unit tests for finding software errors. This is not necessarily a bad thing in itself, since unit tests are great and I definitely think the world is better <em>with</em> unit tests than without them, but the thing I <em>don&rsquo;t</em> like is that with Ruby, you are essentially forced to go for at least 100% code coverage to even know that your code is <em>at all</em> working.</p>
<p>There is a joke in the industry saying that &ldquo;if it compiles, ship it&rdquo;. Even though this is indeed a joke, there is still some point in it. If a computer system <em>compiles</em>, it&rsquo;s not at last fundamentally broken in that methods or classes are being referred to using the wrong name, or silly things like that. The compiler gives you a certain safety net, and I personally find that very valuable.</p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex justify-between">





</div>

 
        
  
  <div class="book-comments">

</div>
  
 
      </footer>
      

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#background-to-how-perlang-was-born">Background to how Perlang was born</a>
      <ul>
        <li><a href="#no-optional-typing">No optional typing</a></li>
        <li><a href="#static-type-analysis">Static type analysis</a></li>
        <li><a href="#static-dispatch-of-methods">Static dispatch of methods</a></li>
        <li><a href="#excessive-reliance-on-unit-tests-to-detect-all-errors">Excessive reliance on unit tests to detect all errors</a></li>
      </ul>
    </li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  
</body>

</html>












